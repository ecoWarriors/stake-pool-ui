import{u as he,D as Dt,a as Ut,b as Wt,T as Vt,l as re,s as pe,c as Ke,f as ie,d as Ne,e as He,g as Kt,h as Ie,i as zt,j as Qt,_ as ue,X as se,k as rt,m as kt,n as ze,o as Xt,p as Ht,q as Gt,r as jt,N as Yt}from"./index.48be247c.js";import{_ as Be,a3 as H,r as q,aN as Jt,X as Ce,aO as Zt,U as Pe,aP as Ge,s as u,aQ as ea,aR as ta,$ as Fe,w as ae,aS as aa,ab as T,aK as V,af as s,aa as _e,aM as B,ar as ve,aT as oa,ao as z,aU as be,aV as yt,aW as wt,aX as M,aY as St,aZ as ye,a_ as je,ae as f,ag as $t,a$ as na,b0 as At,b1 as Tt,b2 as Ct,b3 as Pt,b4 as sa,b5 as la,b6 as ia,b7 as Ae,b8 as Le,b9 as Lt,ba as Qe,bb as ra,bc as ca,bd as ua,be as da,bf as Re,bg as me,bh as fa,bi as ge,bj as va,bk as Se,bl as Ue,bm as ct,bn as We,bo as ma,bp as pa,bq as ha,br as ut,bs as _a,ac as ee,ad as m,ai as Y,bt as fe,ak as $e,al as oe,ah as Ye,bu as ba,bv as qe,bw as ga,bx as ka,by as ya,am as wa}from"./vendor.620fd36c.js";import{r as Sa,_ as $a,Q as ke,a as Aa,b as Ta,c as Xe,d as Ca,e as Ve,f as de,g as Pa,h as La}from"./StackedAndLiquidity.8328f2a4.js";import{u as qa,a as Na,b as Ia,c as dt,d as Ba,_ as Fa}from"./CopyToClipboard.18fe6a0b.js";function Je(){const e=he(),{notify:t}=Be(),i=H(e,"cluster"),l=q(!1);async function n(a,{onSuccess:o,onError:d,idx:p,commitment:g=Dt,sendTimeout:r=Ut,confirmTimeout:k=Wt}={}){p=p!=null?p:"";let _=t({progress:!0,type:"ongoing",message:p?`Sending transaction "${p}" ...`:"Sending transaction...",timeout:r});l.value=!0;const P={label:"Close",color:"white"};let C="";try{C=String(await a)}catch(h){l.value=!1,_(),String(h==null?void 0:h.message).startsWith("User rejected")||t({message:p?`Transaction "${p}" error`:"Transaction error",caption:h==null?void 0:h.message,type:"negative",timeout:0,actions:[P]});return}const x=`https://explorer.solana.com/tx/${C}?cluster=${i.value}`,E={label:"Explore",color:"white",target:"_blank",href:x,onClick:()=>!1},F={label:"Telegram",color:"white",target:"_blank",href:Vt};try{_(),_=t({progress:!0,type:"ongoing",message:p?`Confirming transaction "${p}" ...`:"Confirming transaction...",actions:[E],timeout:k});const h=await e.connection.confirmTransaction(C,g);if(_(),h.value.err)throw new Error(JSON.stringify(h.value.err));_=t({message:p?`Transaction "${p}" confirmed`:"Transaction confirmed",type:"positive",actions:[E]}),o&&o(C)}catch(h){_(),t({message:p?`Transaction "${p}" error`:"Transaction error",caption:h.message,type:"negative",timeout:0,actions:[E,F,P]}),d&&d(h),console.error(h)}finally{l.value=!1}}return{monitorTransaction:n,sending:l}}function qt(){const{notify:e}=Be(),t=he(),i=Ne(),l=He(),{monitorTransaction:n,sending:a}=Je(),o=Ge(),d=H(i,"lamportsPerSignature"),p=H(i,"stakePool"),g=H(i,"minRentBalance"),r=H(l,"nativeBalance"),k=H(l,"hasTokenAccount"),_=q(!1),P=q(!1),C=u(()=>{var h,v;return(v=(h=p.value)==null?void 0:h.totalLamports.toNumber())!=null?v:0}),x=u(()=>Math.max(0,Ke(t.stakeLimit)-C.value)),E=u(()=>{var h;return d.value*2+(((h=o.value)==null?void 0:h.publicKey)&&!k.value?g.value:0)}),F=u(()=>_.value||a.value);return{stakeSuccessDialog:P,depositFee:E,depositing:F,depositStake:async h=>{var v,y,L,S,A;try{const G=(A=(S=(L=(y=(v=h.account.data)==null?void 0:v.parsed)==null?void 0:y.info)==null?void 0:L.stake)==null?void 0:S.delegation)==null?void 0:A.voter;if(!G)throw new Error("Wrong stake account state, must be delegated to validator");const{rentFee:j,instructions:ne,signers:J}=await Jt(t.connection,t.stakePoolAddress,o.value.publicKey,new Ce(G),h.pubkey);if(r.value<j)throw new Error(`Insufficient balance, at least ${re(j)} SOL are required.`);let Q=!1;return await n(pe(t.connection,o.value,ne,J),{onSuccess:()=>Q=!0}),Q}catch(G){throw e({message:G.message,type:"negative"}),G}finally{_.value=!1}},depositSol:async(h=1)=>{var v;if(!((v=o.value)!=null&&v.publicKey))return console.log("Wallet is not connected."),!1;try{const y=Ke(h);if(t.stakeLimit>0&&y>x.value)throw new Error(`Stake limit is reached. Available to stake ${ie(x.value)} SOL`);_.value=!0;const{rentFee:L,instructions:S,signers:A}=await Zt(t.connection,t.stakePoolAddress,o.value.publicKey,y);if(r.value<L)throw new Error(`Insufficient balance, at least ${re(L)} SOL are required.`);return await n(pe(t.connection,o.value,S,A),{onSuccess:()=>P.value=!0}),!0}catch(y){throw e({message:y.message,type:"negative"}),y}finally{_.value=!1}},delegateAccount:async(h,v)=>{var y;if(!((y=o.value)!=null&&y.publicKey)){console.log("Wallet is not connected.");return}try{const L=Pe.delegate({stakePubkey:h,authorizedPubkey:o.value.publicKey,votePubkey:new Ce(v)});await n(pe(t.connection,o.value,L.instructions,[]))}catch(L){throw e({message:L.message,type:"negative"}),L}}}}function Ra(){const e=he(),t=Ne(),i=Ie(),l=zt(),{notify:n}=Be(),{monitorTransaction:a,sending:o}=Je(),{wallet:d,connected:p}=Fe(),g=Ge(),r=H(t,"lamportsPerSignature"),k=H(t,"stakePool"),_=H(t,"reserveStakeBalance"),P=H(l,"epochInfo"),C=q(!1),x=q(!0),E=q(!1),F=q(0);return ae(aa(F,100),async h=>{var v;if((v=k.value)!=null&&v.reserveStake){const y=Ke(h);if(_.value>y){x.value=!0;return}}x.value=!1}),{amount:F,useWithdrawSol:x,setAmount:h=>F.value=Number(h),useReserve:(h=!0)=>C.value=h,withdrawFee:u(()=>r.value*3),withdrawSolFee:u(()=>r.value*2),withdrawing:u(()=>E.value||o.value),withdraw:async(h=!1)=>{var v,y;if(!p.value)throw new Error("Wallet not connected");if(F.value<=0)return!1;try{if(E.value=!0,x.value&&!h){console.log("------------------------"),console.log("|- WITHDRAW SOL"),console.log("------------------------");const{instructions:J,signers:Q}=await ea(e.connection,e.stakePoolAddress,d.value.publicKey,d.value.publicKey,F.value);return await a(pe(e.connection,g.value,J,Q)),!0}const{instructions:L,signers:S}=await ta(e.connection,e.stakePoolAddress,d.value.publicKey,F.value,C.value,void 0,void 0,void 0,(v=P.value)!=null&&v.epoch?await Ea(P.value.epoch):void 0),A=[...L],G=(y=S[1])==null?void 0:y.publicKey,j=Pe.deactivate({stakePubkey:G,authorizedPubkey:d.value.publicKey}).instructions,ne=["Unstake","Deactivate"];return await Kt(e.connection,g.value,[A,j],[S,[]],{stopOnError:!0,onSuccess:async(J,Q)=>a(J,{idx:ne[Q],onError(b){throw b}})}),i.load(),!0}catch(L){n({message:L.message,type:"negative"})}finally{E.value=!1}}}}async function Ea(e){if(!!e)try{const t=await Qt(e);if(t.validators.length>0){const i=t.validators.reduce((l,n)=>(l[n.vote]=n.apy,l),{});return console.log("Use APY Comparator"),(l,n)=>{var g,r;const a=(g=l.voteAddress)==null?void 0:g.toBase58(),o=(r=n.voteAddress)==null?void 0:r.toBase58();if(!a||!o)return 0;const d=parseFloat(String(i[a])),p=parseFloat(String(i[o]));return d-p}}}catch(t){console.log("Error:",t)}}const Oa={},xa={class:"custom-section"},Ma=s("div",{class:"container"},null,-1),Da=[Ma];function Ua(e,t){return T(),V("section",xa,Da)}var Wa=ue(Oa,[["render",Ua]]);const Va={class:"faq-section"},Ka={class:"container"},za={class:"faq-list"},Qa=oa('<div class="faq-item"><div class="faq-item__title"> What is &quot;staking&quot;? </div><div class="faq-item__body"><p> By staking your SOL tokens, you help secure the network and earn rewards while doing so. You can stake by delegating your tokens to validators who process transactions and run the Solana network. </p><p> Read more at <a href="https://docs.solana.com/staking" target="blank">https://docs.solana.com/staking</a></p></div></div><div class="faq-item"><div class="faq-item__title"> What is a Stake Pool? </div><div class="faq-item__body"><p> Here&#39;s what Solana Docs have to say on Stake Pools: &quot;This on-chain program pools together SOL to be staked by a manager, allowing SOL holders to stake and earn rewards without managing stakes. Users deposit SOL in exchange for SPL tokens (staking derivatives) that represent their ownership in the stake pool. The pool manager stakes deposited SOL according to their strategy, perhaps using a variant of an auto-delegation bot as described above. </p></div></div>',2),Xa={class:"faq-item"},Ha=s("div",{class:"faq-item__title"}," How do I get my rewards? ",-1),Ga={class:"faq-item__body"},ja=s("p",null,[z(" Read more at "),s("a",{href:"https://docs.solana.com/staking",target:"blank"},"https://docs.solana.com/staking")],-1),Ya=s("div",{class:"faq-item"},[s("div",{class:"faq-item__title"}," Who is a Delegator? "),s("div",{class:"faq-item__body"},[s("p",null,[z(" Any user who delegates their SOL to a Validator (either directly or via Stake Pool), enabling them to validate new blocks and keep the network alive, becomes a Delegator. "),s("br"),z(" Anyone who has some SOL in their wallet may delegate it \u2013 and earn rewards by doing so ")])])],-1),Ja=_e({__name:"FaqSection",setup(e){return(t,i)=>(T(),V("section",Va,[s("div",Ka,[s("div",za,[Qa,s("div",Xa,[Ha,s("div",Ga,[s("p",null," Your "+B(ve(se))+" represents your share in the pool\u2019s total stake, which grows constantly as rewards are accrued. This reflects in the "+B(ve(se))+"-SOL exchange rate which will be used to calculate the SOL you get back when you unstake. Total "+B(ve(se))+" price growth is equal to the pool\u2019s APY. ",1),ja])]),Ya])])]))}});var Za="/reference-pool/assets/xsol.e7f0f5bc.svg";const eo=["alt","src"],to=["alt"],Nt=_e({__name:"TokenSvg",setup(e){return(t,i)=>ve(rt)?(T(),V("img",{key:0,alt:ve(se),src:ve(rt)},null,8,eo)):(T(),V("img",{key:1,alt:ve(se),src:Za},null,8,to))}});var It=be({name:"QInnerLoading",props:{...yt,...qa,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const i=ye(),l=wt(e,i.proxy.$q),{transition:n,transitionStyle:a}=Na(e,u(()=>e.showing)),o=u(()=>"q-inner-loading absolute-full column flex-center"+(l.value===!0?" q-inner-loading--dark":"")),d=u(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function p(){const r=[M(je,{size:e.size,color:e.color})];return e.label!==void 0&&r.push(M("div",{class:d.value,style:e.labelStyle},[e.label])),r}function g(){return e.showing===!0?M("div",{class:o.value,style:a.value},t.default!==void 0?t.default():p()):null}return()=>M(St,{name:n.value,appear:!0},g)}});const ao={props:{selected:{type:Boolean,required:!0}},setup(){const e=kt(),t=H(e,"apy");return{apyLoading:H(e,"apyLoading"),apy:u(()=>ze.format(t.value))}}},oo=z(" APY "),no={class:"apy__value"};function so(e,t,i,l,n,a){return T(),V("div",{class:$t(["apy",{"apy--selected":i.selected}])},[oo,s("div",no," \u2248"+B(l.apy),1),f(It,{showing:l.apyLoading},null,8,["showing"])],2)}var lo=ue(ao,[["render",so],["__scopeId","data-v-64726ed8"]]);let io=0;const ro=["click","keydown"],co={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${io++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function uo(e,t,i,l){const n=na(At,()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")}),{proxy:a}=ye(),o=q(null),d=q(null),p=q(null),g=u(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),r=u(()=>n.currentModel.value===e.name),k=u(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(r.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(l!==void 0&&l.linkClass.value!==""?` ${l.linkClass.value}`:"")),_=u(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),P=u(()=>e.disable===!0||n.hasFocus.value===!0?-1:e.tabindex||0);function C(v,y){if(y!==!0&&o.value!==null&&o.value.focus(),e.disable!==!0){let L;if(l!==void 0)if(l.hasRouterLink.value===!0)L=()=>{v.__qNavigate=!0,n.avoidRouteWatcher=!0;const S=l.navigateToRouterLink(v);S===!1?n.avoidRouteWatcher=!1:S.then(A=>{n.avoidRouteWatcher=!1,A===void 0&&n.updateModel({name:e.name,fromRoute:!0})})};else{i("click",v);return}else L=()=>{n.updateModel({name:e.name,fromRoute:!1})};i("click",v,L),v.defaultPrevented!==!0&&L()}}function x(v){la(v,[13,32])?C(v,!0):ia(v)!==!0&&v.keyCode>=35&&v.keyCode<=40&&n.onKbdNavigate(v.keyCode,a.$el)===!0&&Ae(v),i("keydown",v)}function E(){const v=n.tabProps.value.narrowIndicator,y=[],L=M("div",{ref:p,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});e.icon!==void 0&&y.push(M(Le,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&y.push(M("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&y.push(e.alertIcon!==void 0?M(Le,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):M("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),v===!0&&y.push(L);const S=[M("div",{class:"q-focus-helper",tabindex:-1,ref:o}),M("div",{class:_.value},Lt(t.default,y))];return v===!1&&S.push(L),S}const F={name:u(()=>e.name),rootRef:d,tabIndicatorRef:p,routerProps:l};Tt(()=>{n.unregisterTab(F),n.recalculateScroll()}),Ct(()=>{n.registerTab(F),n.recalculateScroll()});function h(v,y){const L={ref:d,class:k.value,tabindex:P.value,role:"tab","aria-selected":r.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:C,onKeydown:x,...y};return Pt(M(v,L,E()),[[sa,g.value]])}return{renderTab:h,$tabs:n}}var ft=be({name:"QTab",props:co,emits:ro,setup(e,{slots:t,emit:i}){const{renderTab:l}=uo(e,t,i);return()=>l("div")}});function fo(e,t,i){const l=i===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?l[0]:l[1]}${e?` text-${e}`:""}`}const vo=["left","center","right","justify"],vt=()=>{};var mo=be({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>vo.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:i}){const l=ye(),{proxy:{$q:n}}=l,{registerTick:a}=Ia(),{registerTimeout:o,removeTimeout:d}=dt(),{registerTimeout:p}=dt(),g=q(null),r=q(null),k=q(e.modelValue),_=q(!1),P=q(!0),C=q(!1),x=q(!1),E=u(()=>n.platform.is.desktop===!0||e.mobileArrows===!0),F=[],h=q(!1);let v=!1,y,L,S,A=E.value===!0?et:Qe;const G=u(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:fo(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),j=u(()=>`q-tabs__content--align-${_.value===!0?"left":x.value===!0?"justify":e.align}`),ne=u(()=>`q-tabs row no-wrap items-center q-tabs--${_.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${E.value===!0&&e.outsideArrows===!0?"outside":"inside"}`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),J=u(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+j.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")+(n.platform.is.mobile===!0?" scroll":"")),Q=u(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),b=u(()=>e.vertical!==!0&&n.lang.rtl===!0),R=u(()=>Sa===!1&&b.value===!0);ae(b,A),ae(()=>e.modelValue,c=>{X({name:c,setCurrent:!0,skipEmit:!0})}),ae(()=>e.outsideArrows,()=>{me(Z())}),ae(E,c=>{A=c===!0?et:Qe,me(Z())});function X({name:c,setCurrent:$,skipEmit:N,fromRoute:U}){k.value!==c&&(N!==!0&&i("update:modelValue",c),($===!0||e["onUpdate:modelValue"]===void 0)&&(O(k.value,c),k.value=c)),U!==void 0&&(v=U)}function Z(){a(()=>{l.isDeactivated!==!0&&l.isUnmounted!==!0&&w({width:g.value.offsetWidth,height:g.value.offsetHeight})})}function w(c){if(Q.value===void 0||r.value===null)return;const $=c[Q.value.container],N=Math.min(r.value[Q.value.scroll],Array.prototype.reduce.call(r.value.children,(I,W)=>I+(W[Q.value.content]||0),0)),U=$>0&&N>$;_.value!==U&&(_.value=U),U===!0&&me(A);const K=$<parseInt(e.breakpoint,10);x.value!==K&&(x.value=K)}function O(c,$){const N=c!=null&&c!==""?F.find(K=>K.name.value===c):null,U=$!=null&&$!==""?F.find(K=>K.name.value===$):null;if(N&&U){const K=N.tabIndicatorRef.value,I=U.tabIndicatorRef.value;clearTimeout(y),K.style.transition="none",K.style.transform="none",I.style.transition="none",I.style.transform="none";const W=K.getBoundingClientRect(),D=I.getBoundingClientRect();I.style.transform=e.vertical===!0?`translate3d(0,${W.top-D.top}px,0) scale3d(1,${D.height?W.height/D.height:1},1)`:`translate3d(${W.left-D.left}px,0,0) scale3d(${D.width?W.width/D.width:1},1,1)`,me(()=>{y=setTimeout(()=>{I.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",I.style.transform="none"},70)})}U&&_.value===!0&&te(U.rootRef.value)}function te(c){const{left:$,width:N,top:U,height:K}=r.value.getBoundingClientRect(),I=c.getBoundingClientRect();let W=e.vertical===!0?I.top-U:I.left-$;if(W<0){r.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(W),A();return}W+=e.vertical===!0?I.height-K:I.width-N,W>0&&(r.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(W),A())}function et(){const c=r.value;if(c!==null){const $=c.getBoundingClientRect(),N=e.vertical===!0?c.scrollTop:Math.abs(c.scrollLeft);b.value===!0?(P.value=Math.ceil(N+$.width)<c.scrollWidth-1,C.value=N>0):(P.value=N>0,C.value=e.vertical===!0?Math.ceil(N+$.height)<c.scrollHeight:Math.ceil(N+$.width)<c.scrollWidth)}}function tt(c){ce(),nt(c),L=setInterval(()=>{nt(c)===!0&&ce()},5)}function at(){tt(R.value===!0?Number.MAX_SAFE_INTEGER:0)}function ot(){tt(R.value===!0?0:Number.MAX_SAFE_INTEGER)}function ce(){clearInterval(L)}function Bt(c,$){const N=Array.prototype.filter.call(r.value.children,D=>D===$||D.matches&&D.matches(".q-tab.q-focusable")===!0),U=N.length;if(U===0)return;if(c===36)return te(N[0]),!0;if(c===35)return te(N[U-1]),!0;const K=c===(e.vertical===!0?38:37),I=c===(e.vertical===!0?40:39),W=K===!0?-1:I===!0?1:void 0;if(W!==void 0){const D=b.value===!0?-1:1,le=N.indexOf($)+W*D;return le>=0&&le<U&&(te(N[le]),N[le].focus({preventScroll:!0})),!0}}const Ft=u(()=>R.value===!0?{get:c=>Math.abs(c.scrollLeft),set:(c,$)=>{c.scrollLeft=-$}}:e.vertical===!0?{get:c=>c.scrollTop,set:(c,$)=>{c.scrollTop=$}}:{get:c=>c.scrollLeft,set:(c,$)=>{c.scrollLeft=$}});function nt(c){const $=r.value,{get:N,set:U}=Ft.value;let K=!1,I=N($);const W=c<I?-1:1;return I+=W*5,I<0?(K=!0,I=0):(W===-1&&I<=c||W===1&&I>=c)&&(K=!0,I=c),U($,I),A(),K}function Oe(){return F.filter(c=>c.routerProps!==void 0&&c.routerProps.hasRouterLink.value===!0)}function Rt(){let c=null,$=v;const N={matchedLen:0,hrefLen:0,exact:!1,found:!1},{hash:U}=l.proxy.$route,K=k.value;let I=$===!0?vt:D=>{K===D.name.value&&($=!0,I=vt)};const W=Oe();for(const D of W){const le=D.routerProps.exact.value===!0;if(D.routerProps[le===!0?"linkIsExactActive":"linkIsActive"].value!==!0||N.exact===!0&&le!==!0){I(D);continue}const xe=D.routerProps.linkRoute.value,Me=xe.hash;if(le===!0){if(U===Me){c=D.name.value;break}else if(U!==""&&Me!==""){I(D);continue}}const De=xe.matched.length,it=xe.href.length-Me.length;if(De===N.matchedLen?it>N.hrefLen:De>N.matchedLen){c=D.name.value,Object.assign(N,{matchedLen:De,hrefLen:it,exact:le});continue}I(D)}($===!0||c!==null)&&X({name:c,setCurrent:!0,fromRoute:!0})}function Et(c){if(d(),h.value!==!0&&g.value!==null&&c.target&&typeof c.target.closest=="function"){const $=c.target.closest(".q-tab");$&&g.value.contains($)===!0&&(h.value=!0)}}function Ot(){o(()=>{h.value=!1},30)}function we(){st.avoidRouteWatcher!==!0&&p(Rt)}function xt(c){F.push(c),Oe().length>0&&(S===void 0&&(S=ae(()=>l.proxy.$route,we)),we())}function Mt(c){F.splice(F.indexOf(c),1),S!==void 0&&(Oe().length===0&&(S(),S=void 0),we())}const st={currentModel:k,tabProps:G,hasFocus:h,registerTab:xt,unregisterTab:Mt,verifyRouteModel:we,updateModel:X,recalculateScroll:Z,onKbdNavigate:Bt,avoidRouteWatcher:!1};ra(At,st),Tt(()=>{clearTimeout(y),S!==void 0&&S()});let lt=!1;return ca(()=>{lt=!0}),ua(()=>{lt===!0&&Z()}),()=>{const c=[M(da,{onResize:w}),M("div",{ref:r,class:J.value,onScroll:A},Re(t.default))];return E.value===!0&&c.push(M(Le,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(P.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||n.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedown:at,onTouchstartPassive:at,onMouseup:ce,onMouseleave:ce,onTouchend:ce}),M(Le,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(C.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||n.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedown:ot,onTouchstartPassive:ot,onMouseup:ce,onMouseleave:ce,onTouchend:ce})),M("div",{ref:g,class:ne.value,role:"tablist",onFocusin:Et,onFocusout:Ot},c)}}});const Ze={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},po=Object.keys(Ze);Ze.all=!0;function mt(e){const t={};for(const i of po)e[i]===!0&&(t[i]=!0);return Object.keys(t).length===0?Ze:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}function pt(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&e.target.nodeName.toUpperCase()!=="INPUT"&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function ho(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,l)=>{const n=parseFloat(i);n&&(t[l]=n)}),t}var _o=fa({name:"touch-swipe",beforeMount(e,{value:t,arg:i,modifiers:l}){if(l.mouse!==!0&&ge.has.touch!==!0)return;const n=l.mouseCapture===!0?"Capture":"",a={handler:t,sensitivity:ho(i),direction:mt(l),noop:Qe,mouseStart(o){pt(o,a)&&va(o)&&(Se(a,"temp",[[document,"mousemove","move",`notPassive${n}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(o,!0))},touchStart(o){if(pt(o,a)){const d=o.target;Se(a,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","notPassiveCapture"],[d,"touchend","end","notPassiveCapture"]]),a.start(o)}},start(o,d){ge.is.firefox===!0&&Ue(e,!0);const p=ct(o);a.event={x:p.left,y:p.top,time:Date.now(),mouse:d===!0,dir:!1}},move(o){if(a.event===void 0)return;if(a.event.dir!==!1){Ae(o);return}const d=Date.now()-a.event.time;if(d===0)return;const p=ct(o),g=p.left-a.event.x,r=Math.abs(g),k=p.top-a.event.y,_=Math.abs(k);if(a.event.mouse!==!0){if(r<a.sensitivity[1]&&_<a.sensitivity[1]){a.end(o);return}}else if(r<a.sensitivity[2]&&_<a.sensitivity[2])return;const P=r/d,C=_/d;a.direction.vertical===!0&&r<_&&r<100&&C>a.sensitivity[0]&&(a.event.dir=k<0?"up":"down"),a.direction.horizontal===!0&&r>_&&_<100&&P>a.sensitivity[0]&&(a.event.dir=g<0?"left":"right"),a.direction.up===!0&&r<_&&k<0&&r<100&&C>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&r<_&&k>0&&r<100&&C>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&r>_&&g<0&&_<100&&P>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&r>_&&g>0&&_<100&&P>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(Ae(o),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ba(),a.styleCleanup=x=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const E=()=>{document.body.classList.remove("no-pointer-events--children")};x===!0?setTimeout(E,50):E()}),a.handler({evt:o,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:d,distance:{x:r,y:_}})):a.end(o)},end(o){a.event!==void 0&&(We(a,"temp"),ge.is.firefox===!0&&Ue(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),o!==void 0&&a.event.dir!==!1&&Ae(o),a.event=void 0)}};e.__qtouchswipe=a,l.mouse===!0&&Se(a,"main",[[e,"mousedown","mouseStart",`passive${n}`]]),ge.has.touch===!0&&Se(a,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const i=e.__qtouchswipe;i!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&i.end(),i.handler=t.value),i.direction=mt(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(We(t,"main"),We(t,"temp"),ge.is.firefox===!0&&Ue(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function bo(){const e=new Map;return{getCache:function(t,i){return e[t]===void 0?e[t]=i:e[t]},getCacheWithFn:function(t,i){return e[t]===void 0?e[t]=i():e[t]}}}const go={name:{required:!0},disable:Boolean},ht={setup(e,{slots:t}){return()=>M("div",{class:"q-panel scroll",role:"tabpanel"},Re(t.default))}},ko={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},yo=["update:modelValue","before-transition","transition"];function wo(){const{props:e,emit:t,proxy:i}=ye(),{getCacheWithFn:l}=bo();let n,a;const o=q(null),d=q(null);function p(b){const R=e.vertical===!0?"up":"left";A((i.$q.lang.rtl===!0?-1:1)*(b.direction===R?1:-1))}const g=u(()=>[[_o,p,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),r=u(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),k=u(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),_=u(()=>`--q-transition-duration: ${e.transitionDuration}ms`),P=u(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),C=u(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),x=u(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ae(()=>e.modelValue,(b,R)=>{const X=v(b)===!0?y(b):-1;a!==!0&&S(X===-1?0:X<y(R)?-1:1),o.value!==X&&(o.value=X,t("before-transition",b,R),me(()=>{t("transition",b,R)}))});function E(){A(1)}function F(){A(-1)}Object.assign(i,{next:E,previous:F,goTo:h});function h(b){t("update:modelValue",b)}function v(b){return b!=null&&b!==""}function y(b){return n.findIndex(R=>R.props.name===b&&R.props.disable!==""&&R.props.disable!==!0)}function L(){return n.filter(b=>b.props.disable!==""&&b.props.disable!==!0)}function S(b){const R=b!==0&&e.animated===!0&&o.value!==-1?"q-transition--"+(b===-1?r.value:k.value):null;d.value!==R&&(d.value=R)}function A(b,R=o.value){let X=R+b;for(;X>-1&&X<n.length;){const Z=n[X];if(Z!==void 0&&Z.props.disable!==""&&Z.props.disable!==!0){S(b),a=!0,t("update:modelValue",Z.props.name),setTimeout(()=>{a=!1});return}X+=b}e.infinite===!0&&n.length>0&&R!==-1&&R!==n.length&&A(b,b===-1?n.length:-1)}function G(){const b=y(e.modelValue);return o.value!==b&&(o.value=b),!0}function j(){const b=v(e.modelValue)===!0&&G()&&n[o.value];return e.keepAlive===!0?[M(ma,C.value,[M(x.value===!0?l(P.value,()=>({...ht,name:P.value})):ht,{key:P.value,style:_.value},()=>b)])]:[M("div",{class:"q-panel scroll",style:_.value,key:P.value,role:"tabpanel"},[b])]}function ne(){if(n.length!==0)return e.animated===!0?[M(St,{name:d.value},j)]:j()}function J(b){return n=pa(Re(b.default,[])).filter(R=>R.props!==null&&R.props.slot===void 0&&v(R.props.name)===!0),n.length}function Q(){return n}return{panelIndex:o,panelDirectives:g,updatePanelsList:J,updatePanelIndex:G,getPanelContent:ne,getEnabledPanels:L,getPanels:Q,isValidPanelName:v,keepAliveProps:C,needsUniqueKeepAliveWrapper:x,goToPanelByOffset:A,goToPanel:h,nextPanel:E,previousPanel:F}}var _t=be({name:"QTabPanel",props:go,setup(e,{slots:t}){return()=>M("div",{class:"q-tab-panel"},Re(t.default))}}),So=be({name:"QTabPanels",props:{...ko,...yt},emits:yo,setup(e,{slots:t}){const i=ye(),l=wt(e,i.proxy.$q),{updatePanelsList:n,getPanelContent:a,panelDirectives:o}=wo(),d=u(()=>"q-tab-panels q-panel-parent"+(l.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(t),ha("div",{class:d.value},a(),"pan",e.swipeable,()=>o.value))}});const $o=typeof window=="undefined",Te=new Map;let bt;$o||(document.addEventListener("mousedown",e=>bt=e,!1),document.addEventListener("mouseup",e=>{for(const{documentHandler:t}of Te.values())t(e,bt)},!1));function gt(e,t){let i=[];return Array.isArray(t.arg)?i=t.arg:i.push(t.arg),function(l,n){const a=t.instance.popperRef,o=l.target,d=n.target,p=!t||!t.instance,g=!o||!d,r=e.contains(o)||e.contains(d),k=e===o,_=i.length&&i.some(C=>C==null?void 0:C.contains(o))||i.length&&i.includes(d),P=a&&(a.contains(o)||a.contains(d));p||g||r||k||_||P||t.value()}}const Ao={beforeMount(e,t){Te.set(e,{documentHandler:gt(e,t),bindingFn:t.value})},updated(e,t){Te.set(e,{documentHandler:gt(e,t),bindingFn:t.value})},unmounted(e){Te.delete(e)}};var Ee="/reference-pool/assets/no-wallet-icon.4f589868.svg";const To=_e({directives:{clickOutside:Ao},setup(){const{notify:e}=Be(),t=Ne(),i=he(),{connected:l}=Fe(),n=He(),a=Ie(),{depositFee:o,depositing:d,depositSol:p}=qt(),{withdrawFee:g,withdrawing:r,setAmount:k,withdraw:_,useWithdrawSol:P}=Ra(),C=kt(),x=u(()=>C.apy),E=u(()=>i.cluster),F=u(()=>n.solBalance),h=u(()=>n.tokenBalance),v=u(()=>t.fees),y=u(()=>t.exchangeRate),L=u(()=>t.connectionLost),S=ut({from:null,to:null,factor:0}),A=ut({from:null,to:null}),G=q("stake"),j=q(null),ne=q(null);Ct(()=>{me(()=>{j.value&&j.value.focus()})});const J=u(()=>{const w=Number(S.from);if(w<=0)return 0;let O=(w-re(o.value))*y.value;return O-=O*v.value.solDepositFee,O>0?O:0}),Q=u(()=>{const w=Number(A.from);if(w<=0)return 0;let O=(w-re(g.value))*(1/y.value);return O-=O*(P.value?v.value.solWithdrawalFee:v.value.withdrawalFee),O>0?O:0});ae(()=>S.from,()=>{if(!S.from){S.to=null;return}S.to=J.value>0?J.value.toFixed(5):0}),ae(Q,()=>{if(!A.from){A.to=null;return}k(A.from),A.to=Q.value>0?Q.value.toFixed(5):0});const b=q(0);ae(b,()=>{const w=F.value*b.value;S.from=w&&ie(w/100)});const R=q(0);ae(R,()=>{const w=h.value*R.value;A.from=w&&ie(w/100)});const X=q(!0),Z=q("");return{XSOL_NAME:se,tab:G,stake:S,unstake:A,cluster:E,connected:l,depositing:d,withdrawing:r,unstakeType:Z,stakeFromInput:j,unstakeFromInput:ne,stakePercent:b,unstakePercent:R,connectionLost:L,useWithdrawSol:P,apy:u(()=>ze.format(x.value)),availableSol:u(()=>F.value?F.value:"0"),availableXsol:u(()=>h.value?h.value:"0"),solDepositFee:u(()=>v==null?void 0:v.value.solDepositFee),withdrawalFee:u(()=>v==null?void 0:v.value.withdrawalFee),solToXsolRate:u(()=>y.value===1?1:ie(y.value)),xSolToSolRate:u(()=>y.value===1?1:ie(1/y.value)),stakeMax(){if(!l.value){e({message:"Wallet is not connected",caption:"Please connect your wallet"});return}S.from=F.value},unstakeMax(){if(!l.value){e({message:"Wallet is not connected",caption:"Please connect your wallet"});return}A.from=h.value},stakeHandler:async()=>{var w;if(J.value<=0){(w=j.value)==null||w.focus();return}await p(S.from-re(o.value)),S.from=0,S.to=0},unstakeHandler:async(w=!1)=>{var O;if(Q.value<=0){(O=ne.value)==null||O.focus();return}Z.value=w?"delayed":"instant",await _(w),Z.value="",A.from=0,A.to=0,a.load()},formatPct(w){return ze.format(w)},onlyNumber(w){const O=w.keyCode?w.keyCode:w.which;(O<48||O>57)&&O!==46&&w.preventDefault(),O===46&&String(w.target.value).includes(".")&&w.preventDefault()},stakeInfo:u(()=>{const w=S.from,O=re(o.value),te=w?(w-O)*y.value:0;return{networkFee:`${O} SOL`,poolFee:`${ie((te>0?te:0)*v.value.solDepositFee)} ${se}`}}),unstakeInfo:u(()=>{const w=A.from,O=v.value.withdrawalFee,te=w*O;return{networkFee:`${re(g.value)} SOL`,poolFee:`${ie(te)} ${se}`}}),unstakeNowInfo:u(()=>{const w=A.from,O=v.value.solWithdrawalFee,te=w*O;return{networkFee:`${re(g.value)} SOL`,poolFee:`${ie(te)} ${se}`}}),highlightFix:X,onFocus(){X.value=!0},onBlur(){X.value=!1}}}}),Co={class:"row justify-center"},Po={class:"col"},Lo={class:"stake-box__title"},qo={key:0,class:"stake-box__warning gt-xs"},No={class:"stake-box__rate"},Io=s("span",{class:"text-dark"},"1",-1),Bo=s("span",null," SOL",-1),Fo=s("span",{class:"q-px-sm"},"\u2248",-1),Ro={class:"text-dark"},Eo={key:0,class:"stake-box__warning lt-sm"},Oo=z(" MAX "),xo=s("img",{alt:"",class:"stake-field__icon",src:Ee},null,-1),Mo=s("span",{class:"stake-field__symbol"},"SOL",-1),Do={class:"stake-field__symbol"},Uo={class:"row items-between"},Wo={class:"column col-sm-6 col-xs-12 q-pr-sm"},Vo={class:"stake-box__stake-info"},Ko={class:"stake-box__stake-info"},zo={class:"column justify-between col-sm-6 col-xs-12 q-pl-sm"},Qo=z(" STAKE NOW "),Xo={key:1,class:"text-right"},Ho={class:"row justify-center"},Go={class:"col"},jo={class:"stake-box__title"},Yo={key:0,class:"stake-box__warning gt-xs"},Jo={class:"stake-box__rate"},Zo=s("span",{class:"text-dark"},"1",-1),en=s("span",{class:"q-px-sm"},"\u2248",-1),tn={class:"text-dark"},an=s("span",null," SOL",-1),on={key:0,class:"stake-box__warning lt-sm"},nn=z(" MAX "),sn={class:"stake-field__symbol"},ln=s("img",{alt:"",class:"stake-field__icon",src:Ee},null,-1),rn=s("span",{class:"stake-field__symbol"},"SOL",-1),cn={class:"row items-between"},un={class:"column col-sm-6 col-xs-12 q-pr-sm"},dn={class:"stake-box__stake-info"},fn={class:"stake-box__stake-info"},vn={class:"column col-sm-6 col-xs-12 q-pl-sm"},mn=s("div",null,"UNSTAKE NOW",-1),pn={class:"row items-between q-mt-sm"},hn={class:"column col-sm-6 col-xs-12 q-pr-sm"},_n={class:"stake-box__stake-info"},bn={class:"stake-box__stake-info"},gn={class:"column col-sm-6 col-xs-12 q-pl-sm"},kn=s("div",null,"UNSTAKE DELAYED",-1);function yn(e,t,i,l,n,a){const o=lo,d=Nt,p=$a,g=_a("click-outside");return T(),ee(Ye,{class:"stake-box shadow-sm"},{default:m(()=>[f(o,{selected:e.tab==="stake",onClick:t[0]||(t[0]=()=>e.tab="stake")},null,8,["selected"]),f(mo,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=r=>e.tab=r),align:"justify","indicator-color":"transparent","active-bg-color":"primary-gray"},{default:m(()=>[f(ft,{ripple:!1,label:"STAKE",name:"stake",disable:e.connectionLost},null,8,["disable"]),f(ft,{ripple:!1,label:"UNSTAKE",name:"unstake",disable:e.connectionLost},null,8,["disable"])]),_:1},8,["modelValue"]),f(So,{modelValue:e.tab,"onUpdate:modelValue":t[8]||(t[8]=r=>e.tab=r),animated:"",class:"bg-transparent"},{default:m(()=>[f(_t,{name:"stake"},{default:m(()=>[f(Y,{class:"top-section"},{default:m(()=>[s("div",Co,[s("div",Po,[s("div",Lo,[z(" Available "+B(e.availableSol),1),e.connected&&Number(e.stake.from)>Number(e.availableSol)?(T(),V("span",qo,"Insufficient funds to run the transaction")):fe("v-if",!0)])]),s("div",null,[s("div",No,[Io,Bo,Fo,s("span",Ro,B(e.solToXsolRate),1),s("span",null,"\xA0"+B(e.XSOL_NAME),1)])])]),e.connected&&Number(e.stake.from)>Number(e.availableSol)?(T(),V("div",Eo," Insufficient funds to run the transaction ")):fe("v-if",!0)]),_:1}),f(Y,{class:"with-arrow"},{default:m(()=>[Pt((T(),ee($e,{ref:"stakeFromInput",modelValue:e.stake.from,"onUpdate:modelValue":t[2]||(t[2]=r=>e.stake.from=r),maxlength:14,label:"Amount to stake",class:$t(["stake-box__input",{"stake-box__input--highlight-fix":e.highlightFix}]),outlined:"",placeholder:"0.0","stack-label":"",readonly:e.connectionLost,onFocus:e.onFocus,onKeypress:e.onlyNumber},{append:m(()=>[f(oe,{dense:"",color:"natural-light-gray","text-color":"primary-gray",unelevated:"",size:"14px",padding:"2px 8px 1px 8px",onClick:e.stakeMax},{default:m(()=>[Oo]),_:1},8,["onClick"]),xo,Mo]),_:1},8,["modelValue","class","readonly","onFocus","onKeypress"])),[[g,e.onBlur]])]),_:1}),f(Y,{class:"stake-to-input"},{default:m(()=>[f($e,{modelValue:e.stake.to,"onUpdate:modelValue":t[3]||(t[3]=r=>e.stake.to=r),label:e.XSOL_NAME,outlined:"",placeholder:"0.0",class:"stake-box__input-to",readonly:"","stack-label":"","bg-color":"transparent",onKeypress:e.onlyNumber},{append:m(()=>[f(d,{class:"stake-field__icon"}),s("span",Do,B(e.XSOL_NAME),1)]),_:1},8,["modelValue","label","onKeypress"])]),_:1}),f(Y,null,{default:m(()=>[s("div",Uo,[s("div",Wo,[s("div",Vo," Network Fee: "+B(e.stakeInfo.networkFee),1),s("div",Ko," Pool Fee: "+B(e.stakeInfo.poolFee),1)]),s("div",zo,[e.connected?(T(),ee(oe,{key:0,loading:e.depositing,class:"stake-box__btn",color:"primary",rounded:"",size:"lg","text-color":"primary-gray",disable:e.connectionLost||Number(e.stake.from)>Number(e.availableSol),onClick:e.stakeHandler},{default:m(()=>[Qo]),_:1},8,["loading","disable","onClick"])):(T(),V("div",Xo,[f(p)]))])])]),_:1})]),_:1}),f(_t,{name:"unstake"},{default:m(()=>[f(Y,{class:"top-section"},{default:m(()=>[s("div",Ho,[s("div",Go,[s("div",jo,[z(" Available "+B(e.availableXsol),1),e.connected&&Number(e.unstake.from)>Number(e.availableXsol)?(T(),V("span",Yo,"Insufficient funds to run the transaction")):fe("v-if",!0)])]),s("div",null,[s("div",Jo,[Zo,s("span",null,B(e.XSOL_NAME),1),en,s("span",tn,B(e.xSolToSolRate),1),an])])]),e.connected&&Number(e.unstake.from)>Number(e.availableXsol)?(T(),V("div",on," Insufficient funds to run the transaction ")):fe("v-if",!0)]),_:1}),f(Y,{class:"with-arrow"},{default:m(()=>[f($e,{ref:"unstakeFromInput",modelValue:e.unstake.from,"onUpdate:modelValue":t[4]||(t[4]=r=>e.unstake.from=r),maxlength:14,class:"stake-box__input",label:`Staked ${e.XSOL_NAME}`,outlined:"",placeholder:"0.0","stack-label":"",readonly:e.connectionLost,onKeypress:e.onlyNumber},{append:m(()=>[f(oe,{dense:"",color:"natural-light-gray","text-color":"primary-gray",unelevated:"",size:"14px",padding:"2px 8px 1px 8px",onClick:e.unstakeMax},{default:m(()=>[nn]),_:1},8,["onClick"]),f(d,{class:"stake-field__icon"}),s("span",sn,B(e.XSOL_NAME),1)]),_:1},8,["modelValue","label","readonly","onKeypress"])]),_:1}),f(Y,{class:"stake-to-input"},{default:m(()=>[f($e,{modelValue:e.unstake.to,"onUpdate:modelValue":t[5]||(t[5]=r=>e.unstake.to=r),label:"Amount to unstake",outlined:"",placeholder:"0.0",class:"stake-box__input-to",readonly:"","stack-label":"","bg-color":"transparent"},{append:m(()=>[ln,rn]),_:1},8,["modelValue"])]),_:1}),f(Y,null,{default:m(()=>[s("div",cn,[s("div",un,[s("div",dn," Pool Fee: "+B(e.unstakeNowInfo.poolFee),1),s("div",fn," Network Fee: "+B(e.unstakeNowInfo.networkFee),1)]),s("div",vn,[e.connected?(T(),ee(oe,{key:0,loading:e.withdrawing&&e.unstakeType==="instant",class:"stake-box__btn",color:"primary",rounded:"",size:"lg","text-color":"primary-gray",disable:e.connectionLost||Number(e.unstake.from)>Number(e.availableXsol)||e.unstakeType==="delayed"||!e.useWithdrawSol,onClick:t[6]||(t[6]=r=>e.unstakeHandler(!1))},{default:m(()=>[mn]),_:1},8,["loading","disable"])):(T(),ee(p,{key:1}))])])]),_:1}),e.connected?(T(),ee(Y,{key:0},{default:m(()=>[s("div",pn,[s("div",hn,[s("div",_n," Pool Fee: "+B(e.unstakeInfo.poolFee),1),s("div",bn," Network Fee: "+B(e.unstakeInfo.networkFee),1)]),s("div",gn,[f(oe,{loading:e.withdrawing&&e.unstakeType==="delayed",class:"stake-box__btn",color:"primary",rounded:"",size:"lg","text-color":"primary-gray",disable:e.connectionLost||Number(e.unstake.from)>Number(e.availableXsol)||e.unstakeType==="instant",onClick:t[7]||(t[7]=r=>e.unstakeHandler(!0))},{default:m(()=>[kn]),_:1},8,["loading","disable"])])])]),_:1})):fe("v-if",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})}var wn=ue(To,[["render",yn]]);const Sn=["top","middle","bottom"];var $n=be({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Sn.includes(e)}},setup(e,{slots:t}){const i=u(()=>e.align!==void 0?{verticalAlign:e.align}:null),l=u(()=>{const n=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(n!==void 0?` text-${n}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>M("div",{class:l.value,style:i.value,role:"alert","aria-label":e.label},Lt(t.default,e.label!==void 0?[e.label]:[]))}});const An=_e({props:{loading:Boolean,onlyDeposit:{type:Boolean,default:!1},stakeAccount:{type:Object,required:!0}},emits:["deposit","deactivate","withdraw"],setup(e,{emit:t}){const i=he(),l=q(),n=q(!0);return ba(async()=>{n.value=!0,l.value=await i.connection.getStakeActivation(e.stakeAccount.pubkey),n.value=!1}),{address:u(()=>e.stakeAccount.pubkey.toBase58()),voter:u(()=>{var a,o,d,p,g;return(g=(p=(d=(o=(a=e.stakeAccount.account.data)==null?void 0:a.parsed)==null?void 0:o.info)==null?void 0:d.stake)==null?void 0:p.delegation)==null?void 0:g.voter}),shortAddress:u(()=>Xt(e.stakeAccount.pubkey.toBase58())),amount:u(()=>{var a,o,d;return ie(re((d=(o=(a=e.stakeAccount)==null?void 0:a.account)==null?void 0:o.lamports)!=null?d:0))}),lamports:u(()=>{var a,o;return(o=(a=e.stakeAccount)==null?void 0:a.account)==null?void 0:o.lamports}),state:u(()=>{var a;return(a=l.value)==null?void 0:a.state}),stateColor:u(()=>{var a;switch((a=l.value)==null?void 0:a.state){case"active":return"positive";case"inactive":return"negative";default:return"grey"}}),stateLoading:n,deposit(){t("deposit",e.stakeAccount)},deactivate(a){t("deactivate",a)},withdraw(a,o){t("withdraw",a,o)}}}}),Tn={class:"q-item q-item-type row"},Cn={class:"col-12 col-sm-6"},Pn={class:"q-mx-sm"},Ln={class:"col-12 col-sm-6"},qn=z(" DEPOSIT "),Nn=z(" DEACTIVATE "),In=z(" WITHDRAW ");function Bn(e,t,i,l,n,a){const o=Fa;return T(),V("div",Tn,[s("div",Cn,[f(ke,null,{default:m(()=>[f(o,{text:e.address},null,8,["text"]),s("span",Pn,B(e.shortAddress),1),fe(" {{ voter }} "),f($n,{color:e.stateColor},{default:m(()=>[z(B(e.state),1)]),_:1},8,["color"])]),_:1}),f(ke,{caption:""},{default:m(()=>[z(B(e.amount)+" SOL ",1)]),_:1})]),s("div",Ln,[f(Aa,{rounded:"",unelevated:""},{default:m(()=>[e.state==="active"?(T(),V(qe,{key:0},[f(oe,{color:"primary",onClick:e.deposit},{default:m(()=>[qn]),_:1},8,["onClick"]),e.onlyDeposit?fe("v-if",!0):(T(),ee(oe,{key:0,color:"primary-gray",onClick:t[0]||(t[0]=d=>e.deactivate(e.address))},{default:m(()=>[Nn]),_:1}))],64)):(T(),ee(oe,{key:1,disabled:e.state==="deactivating",color:"secondary","text-color":"dark",onClick:t[1]||(t[1]=d=>e.withdraw(e.address,e.lamports))},{default:m(()=>[In]),_:1},8,["disabled"]))]),_:1})]),f(It,{showing:e.loading||e.stateLoading},{default:m(()=>[f(je,{color:"primary"})]),_:1},8,["showing"])])}var Fn=ue(An,[["render",Bn],["__scopeId","data-v-cda9ef8e"]]);const Rn=_e({props:{voter:{type:String,required:!1}},emits:["beforeDeposit","afterDeposit","beforeDeactivate","afterDeactivate","beforeWithdraw","afterWithdraw"],setup(e,{emit:t}){const i=he(),{publicKey:l}=Fe(),n=Ge(),a=Ie(),{monitorTransaction:o}=Je(),{depositStake:d}=qt(),p=u(()=>a.dialog),g=u(()=>a.loading),r=q();return{dialog:p,loading:g,loadingPubkey:r,accounts:u(()=>e.voter?a.data.filter(k=>{var _,P,C,x,E;return((E=(x=(C=(P=(_=k.account.data)==null?void 0:_.parsed)==null?void 0:P.info)==null?void 0:C.stake)==null?void 0:x.delegation)==null?void 0:E.voter)===e.voter}):a.data),updateDialog:k=>a.dialog=k,deposit:async k=>{t("beforeDeposit"),r.value=k.pubkey.toBase58(),await d(k)&&a.removeAccount(k.pubkey.toBase58()),r.value=null,t("afterDeposit")},deactivate:async k=>{t("beforeDeactivate"),r.value=k,await o(pe(i.connection,n.value,Pe.deactivate({stakePubkey:new Ce(k),authorizedPubkey:l.value}).instructions,[]),{commitment:"finalized"}),r.value=null,t("afterDeactivate")},withdraw:async(k,_)=>{t("beforeWithdraw"),r.value=k,await o(pe(i.connection,n.value,Pe.withdraw({stakePubkey:new Ce(k),authorizedPubkey:l.value,toPubkey:l.value,lamports:_}).instructions,[]),{onSuccess:()=>a.removeAccount(k)}),r.value=null,t("afterWithdraw")},refresh(){a.load()},icons:{close:ga,refresh:ka}}}}),En={class:"text-h6 text-center"},On=z(" Stake Accounts "),xn={key:1,class:"flex flex-center q-pa-lg"},Mn=z(" Your stake accounts will be shown here. "),Dn=s("br",null,null,-1),Un=z(" You don't have any valid stake accounts. "),Wn=[Mn,Dn,Un];function Vn(e,t,i,l,n,a){const o=Fn;return T(),ee(Ca,{modelValue:e.dialog,"onUpdate:modelValue":[t[1]||(t[1]=d=>e.dialog=d),e.updateDialog]},{default:m(()=>[f(Ye,null,{default:m(()=>[e.loading?(T(),ee(Y,{key:0,class:"flex flex-center"},{default:m(()=>[f(je,{size:"md"})]),_:1})):(T(),V(qe,{key:1},[f(Y,{class:"relative-position"},{default:m(()=>[s("div",En,[On,f(oe,{rounded:"",unelevated:"",dense:"",size:"sm",icon:e.icons.refresh,onClick:e.refresh},null,8,["icon","onClick"])]),f(oe,{padding:"md",color:"transparent","text-color":"primary-gray",unelevated:"",class:"absolute-right",icon:e.icons.close,size:"md",onClick:t[0]||(t[0]=d=>e.updateDialog(!1))},null,8,["icon"])]),_:1}),f(Ta),f(Y,{class:"scroll",style:{"max-height":"70vh"}},{default:m(()=>[e.accounts.length>0?(T(),ee(Xe,{key:0,separator:"",style:{width:"500px"}},{default:m(()=>[(T(!0),V(qe,null,ya(e.accounts,d=>(T(),ee(o,{key:d.pubkey.toBase58(),"stake-account":d,loading:d.pubkey.toBase58()===e.loadingPubkey,onDeactivate:e.deactivate,onWithdraw:e.withdraw,onDeposit:e.deposit},null,8,["stake-account","loading","onDeactivate","onWithdraw","onDeposit"]))),128))]),_:1})):(T(),V("div",xn,Wn))]),_:1})],64))]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])}var Kn=ue(Rn,[["render",Vn]]);const zn=_e({setup(){const e=Ne(),t=He(),i=Ie(),l=Ht(),n=H(t,"solBalance"),a=H(t,"tokenBalance"),o=H(i,"stakeSolBalance"),d=H(i,"dialog"),p=u(()=>l.solPrice*n.value),g=u(()=>l.solPrice*a.value/e.exchangeRate),r=u(()=>l.solPrice*o.value);return{XSOL_NAME:se,solBalance:n,tokenBalance:a,solUsd:p,tokenUsd:g,stackedUsd:r,totalUsd:u(()=>p.value+g.value+r.value),stakeSolBalance:u(()=>o.value),formatPrice:k=>Gt.format(k),formatMoney:k=>jt(k),openDetails(){d.value=!0}}}}),Qn=s("div",null,"WALLET",-1),Xn={class:"balance__value__usd"},Hn=s("img",{alt:"",src:Ee},null,-1),Gn=s("span",null,"SOL",-1),jn={class:"balance__value__usd"},Yn=s("div",{class:"wallet-balance__staking__title"}," STAKING ",-1),Jn=z(" Details "),Zn={class:"balance__value__usd"},es=s("img",{alt:"",src:Ee},null,-1),ts=s("span",null,"SOL",-1);function as(e,t,i,l,n,a){const o=Nt,d=Kn;return T(),V(qe,null,[f(Ye,{class:"wallet-balance"},{default:m(()=>[f(Y,{class:"wallet-balance__head"},{default:m(()=>[s("div",null,"$"+B(e.formatMoney(e.totalUsd)),1),Qn]),_:1}),f(Y,{class:"wallet-balance__body"},{default:m(()=>[f(Xe,{dense:"",separator:""},{default:m(()=>[f(Ve,null,{default:m(()=>[f(de,{class:"balance__value"},{default:m(()=>[s("span",null,B(e.formatPrice(e.solBalance)),1),s("span",Xn,"$"+B(e.formatMoney(e.solUsd)),1)]),_:1}),f(de,{side:""},{default:m(()=>[f(ke,null,{default:m(()=>[Hn,Gn]),_:1})]),_:1})]),_:1}),f(Ve,null,{default:m(()=>[f(de,{class:"balance__value"},{default:m(()=>[z(B(e.formatPrice(e.tokenBalance))+" ",1),s("span",jn,"$"+B(e.formatMoney(e.tokenUsd)),1)]),_:1}),f(de,{side:""},{default:m(()=>[f(ke,null,{default:m(()=>[f(o),s("span",null,B(e.XSOL_NAME),1)]),_:1})]),_:1})]),_:1})]),_:1}),Yn,f(Xe,{dense:"",separator:""},{default:m(()=>[f(Ve,null,{default:m(()=>[f(de,{side:""},{default:m(()=>[f(oe,{rounded:"",size:"sm",unelevated:"",color:"primary","text-color":"primary-gray",dense:"",class:"q-px-md",onClick:e.openDetails},{default:m(()=>[Jn]),_:1},8,["onClick"])]),_:1}),f(de,{class:"balance__value"},{default:m(()=>[z(B(e.formatPrice(e.stakeSolBalance))+" ",1),s("span",Zn,"$"+B(e.formatMoney(e.stackedUsd)),1)]),_:1}),f(de,{side:""},{default:m(()=>[f(ke,null,{default:m(()=>[es,ts]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),f(d)],64)}var os=ue(zn,[["render",as]]),ns="/reference-pool/assets/no-wallet-icon.4f589868.svg";const ss={setup(){const{connected:e}=Fe();return{NO_WALLET_ICON:Yt,connected:e}}},ls={class:"firstlook-section"},is={class:"container"},rs={class:"firstlook__body"},cs={class:"lt-sm flex"},us={class:"total-stacked-alter flex justify-center q-mx-auto"},ds={class:"lt-md flex"},fs={class:"firstlook__epoch"},vs={class:"row justify-between relative-position"},ms={key:0,class:"col col-12 col-md-4 q-pr-md firstlook__wallet"},ps={key:1,class:"firstlook__placeholder"},hs=["src"],_s={key:1,alt:"",class:"firstlook__placeholder__icon",src:ns},bs={class:"col col-12 col-md-8 q-pl-md q-ml-auto firstlook__stake-box"};function gs(e,t,i,l,n,a){const o=Pa,d=La,p=os,g=wn;return T(),V("section",ls,[s("div",is,[s("div",rs,[s("div",cs,[s("div",us,[f(o)])]),s("div",ds,[s("div",fs,[f(d)])]),s("div",vs,[l.connected?(T(),V("div",ms,[f(p)])):(T(),V("div",ps,[l.NO_WALLET_ICON?(T(),V("img",{key:0,alt:"",class:"firstlook__placeholder__icon",src:l.NO_WALLET_ICON},null,8,hs)):(T(),V("img",_s))])),s("div",bs,[f(g)])])])])])}var ks=ue(ss,[["render",gs]]);const ys={};function ws(e,t){const i=ks,l=Ja,n=Wa;return T(),ee(wa,null,{default:m(()=>[f(i),f(l),f(n)]),_:1})}var Cs=ue(ys,[["render",ws]]);export{Cs as default};
